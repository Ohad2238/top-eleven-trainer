<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>מאמן אימונים – Top Eleven</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      margin: 0;
      background: #0b1530;
      color: #f5f5f5;
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    h1, h2, h3 {
      margin: 0 0 10px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .card {
      background: #111b3c;
      border-radius: 10px;
      padding: 16px 20px;
      margin-bottom: 16px;
      border: 1px solid #1e305d;
    }

    .small {
      font-size: 13px;
      color: #cbd3ff;
      margin: 4px 0 8px;
    }

    .flex {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .attr-pill {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #2c3e82;
      font-size: 13px;
      cursor: pointer;
      user-select: none;
      margin-bottom: 4px;
    }

    .attr-white {
      background: #24c768;
      color: #08121f;
      border-color: #24c768;
    }

    .attr-gray {
      background: #1a2649;
      color: #f5f5f5;
    }

    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      margin-inline-start: 4px;
    }

    .badge-role {
      background: #2c3e82;
      color: #fff;
    }

    .badge-diff {
      background: #4d2c82;
      color: #fff;
    }

    .drill-list .card {
      margin-bottom: 10px;
    }

    .drill-selected {
      border-color: #24c768;
      box-shadow: 0 0 0 1px #24c76833;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 6px 14px;
      font-size: 13px;
      cursor: pointer;
      background: #2c3e82;
      color: #fff;
      margin-inline-end: 6px;
      margin-top: 4px;
    }

    button.primary {
      background: #24c768;
      color: #08121f;
    }

    button:hover {
      opacity: 0.9;
    }

    select {
      background: #0b1530;
      color: #fff;
      border-radius: 6px;
      border: 1px solid #2c3e82;
      padding: 4px 8px;
      min-width: 220px;
    }

    .btn-row {
      margin-top: 8px;
    }

    @media (max-width: 700px) {
      .page {
        padding: 12px;
      }

      button {
        margin-top: 6px;
        width: 100%;
      }

      .btn-row {
        display: grid;
        grid-template-columns: 1fr;
        gap: 6px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <h1>מאמן אימונים – Top Eleven</h1>

    <!-- תפקיד השחקן -->
    <div class="card">
      <h2>הגדרת השחקן הנוכחי</h2>
      <p class="small">בחר תפקיד: שחקן שדה או שוער.</p>
      <label>
        <input type="radio" name="role" value="field" checked />
        שחקן שדה
      </label>
      &nbsp;&nbsp;
      <label>
        <input type="radio" name="role" value="gk" />
        שוער
      </label>
    </div>

    <!-- תכונות -->
    <div class="card">
      <h2>תכונות השחקן</h2>
      <p class="small">לחץ על תכונה כדי להפוך אותה ללבן (חשוב לאמן) או אפור (לא חשוב).</p>
      <div id="attributesContainer" class="flex"></div>
    </div>

    <!-- אימונים מומלצים -->
    <div class="card">
      <h2>אימונים מומלצים (עד 6)</h2>
      <p class="small">
        האפליקציה בוחרת את שלושת האימונים הטובים ביותר, ואז ממליצה על כמות חזרות לכל אימון
        כך שהעומס (קושי × מספר חזרות) יהיה מאוזן.  
        ההמלצה לא משנה את המערכת במשחק – זו רק עזרה לתכנון.
      </p>
      <button id="autoSelectBtn" class="primary">בחר אוטומטית 6 אימונים</button>
      <div id="recommendedContainer" class="drill-list" style="margin-top:10px;"></div>
    </div>

    <!-- כל האימונים -->
    <div class="card">
      <h2>כל האימונים (לבדיקה והרחבה)</h2>
      <p class="small">כאן תוכל לראות את כל האימונים שמתאימים לתפקיד ולמצב התכונות שלך.</p>
      <div id="allDrillsContainer" class="drill-list"></div>
    </div>

    <!-- ניהול שחקנים -->
    <div class="card">
      <h2>שחקנים שמורים</h2>
      <p class="small">ניתן לשמור / לטעון שחקנים שונים ב-localStorage.</p>
      <select id="playerSelect"></select>
      <div class="btn-row">
        <button id="loadPlayerBtn">טען שחקן</button>
        <button id="savePlayerBtn">שמור כשחקן חדש</button>
        <button id="updatePlayerBtn">עדכן שחקן נוכחי</button>
        <button id="deletePlayerBtn">מחק שחקן</button>
      </div>
    </div>
  </div>

  <script>
   const _0x32f13a=_0x2511;(function(_0x8b6105,_0x2f1e29){const _0x56ad7a=_0x2511,_0x398e99=_0x8b6105();while(!![]){try{const _0x59d74e=-parseInt(_0x56ad7a(0xfe))/0x1+-parseInt(_0x56ad7a(0x132))/0x2+-parseInt(_0x56ad7a(0x17d))/0x3*(parseInt(_0x56ad7a(0xf9))/0x4)+-parseInt(_0x56ad7a(0x19d))/0x5*(parseInt(_0x56ad7a(0x134))/0x6)+-parseInt(_0x56ad7a(0x18c))/0x7+parseInt(_0x56ad7a(0x12b))/0x8+parseInt(_0x56ad7a(0x190))/0x9;if(_0x59d74e===_0x2f1e29)break;else _0x398e99['push'](_0x398e99['shift']());}catch(_0xfdf7eb){_0x398e99['push'](_0x398e99['shift']());}}}(_0x4df9,0x38ffb));function _0x2511(_0x295193,_0x7087ec){_0x295193=_0x295193-0xee;const _0x4df9de=_0x4df9();let _0x25118c=_0x4df9de[_0x295193];return _0x25118c;}const ATTRIBUTES=[{'key':_0x32f13a(0x17a),'label':_0x32f13a(0x178),'roles':[_0x32f13a(0x186)]},{'key':_0x32f13a(0x135),'label':'שמירה','roles':[_0x32f13a(0x186)]},{'key':_0x32f13a(0xf7),'label':_0x32f13a(0x194),'roles':[_0x32f13a(0x186)]},{'key':_0x32f13a(0x129),'label':_0x32f13a(0x131),'roles':[_0x32f13a(0x186)]},{'key':_0x32f13a(0x1a4),'label':_0x32f13a(0x123),'roles':[_0x32f13a(0x186)]},{'key':_0x32f13a(0x19c),'label':_0x32f13a(0x113),'roles':[_0x32f13a(0x186)]},{'key':'dribbling','label':_0x32f13a(0x136),'roles':[_0x32f13a(0x186)]},{'key':_0x32f13a(0x15c),'label':_0x32f13a(0x13e),'roles':[_0x32f13a(0x186)]},{'key':_0x32f13a(0x10e),'label':_0x32f13a(0x13b),'roles':[_0x32f13a(0x186)]},{'key':_0x32f13a(0x11f),'label':'סיומת','roles':[_0x32f13a(0x186)]},{'key':'reflexes','label':'רפלקסים','roles':['gk']},{'key':_0x32f13a(0x13f),'label':_0x32f13a(0x130),'roles':['gk']},{'key':_0x32f13a(0x154),'label':_0x32f13a(0x166),'roles':['gk']},{'key':'rushingOut','label':_0x32f13a(0x11c),'roles':['gk']},{'key':_0x32f13a(0x19e),'label':_0x32f13a(0x10b),'roles':['gk']},{'key':_0x32f13a(0xf1),'label':_0x32f13a(0x19f),'roles':['gk']},{'key':_0x32f13a(0x148),'label':_0x32f13a(0x14d),'roles':['gk']},{'key':_0x32f13a(0x103),'label':_0x32f13a(0x109),'roles':['gk']},{'key':'aerial','label':_0x32f13a(0xf0),'roles':['gk']},{'key':_0x32f13a(0x15a),'label':_0x32f13a(0x139),'roles':['gk']},{'key':_0x32f13a(0x16c),'label':_0x32f13a(0x10c),'roles':[_0x32f13a(0x145)]},{'key':'strength','label':_0x32f13a(0x117),'roles':[_0x32f13a(0x145)]},{'key':_0x32f13a(0x102),'label':_0x32f13a(0x191),'roles':['both']},{'key':_0x32f13a(0x11a),'label':_0x32f13a(0x147),'roles':[_0x32f13a(0x145)]},{'key':_0x32f13a(0x197),'label':_0x32f13a(0x14b),'roles':[_0x32f13a(0x145)]}],attributeStates={},DIFFICULTY_WEIGHT={'veryEasy':0.75,'easy':1.5,'medium':2.25,'hard':0x3,'veryHard':3.75},DRILLS=[{'name':'ריצה\x20ארוכה\x20(בינוני)','role':'field','difficulty':_0x32f13a(0xef),'attrs':['speed',_0x32f13a(0x16c)]},{'name':'ריצה\x20ארוכה\x20(בינוני)','role':'gk','difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x15a)]},{'name':'צעד\x20תמני\x20עם\x20סולם\x20(קל)','role':_0x32f13a(0x186),'difficulty':'easy','attrs':[_0x32f13a(0x11a),_0x32f13a(0x102)]},{'name':'צעד\x20תמני\x20עם\x20סולם\x20(קל)','role':'gk','difficulty':_0x32f13a(0x100),'attrs':[_0x32f13a(0x13f),_0x32f13a(0x15a)]},{'name':_0x32f13a(0x169),'role':'field','difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x135),_0x32f13a(0xf7)]},{'name':_0x32f13a(0x169),'role':'gk','difficulty':_0x32f13a(0xef),'attrs':['communication',_0x32f13a(0x15a)]},{'name':'חדר\x20כושר\x20(קשה\x20מאוד)','role':_0x32f13a(0x186),'difficulty':_0x32f13a(0x184),'attrs':['strength',_0x32f13a(0x16c)]},{'name':_0x32f13a(0xf6),'role':'gk','difficulty':'veryHard','attrs':[_0x32f13a(0x148),_0x32f13a(0xf1)]},{'name':_0x32f13a(0x125),'role':'field','difficulty':_0x32f13a(0xff),'attrs':[_0x32f13a(0x197),_0x32f13a(0xf7),_0x32f13a(0x1a4)]},{'name':_0x32f13a(0x125),'role':'gk','difficulty':_0x32f13a(0xff),'attrs':['communication']},{'name':'שליטה\x20בכדור\x20(קל\x20מאוד)','role':_0x32f13a(0x186),'difficulty':'veryEasy','attrs':[_0x32f13a(0x177),_0x32f13a(0x129),_0x32f13a(0x197)]},{'name':_0x32f13a(0xf3),'role':'gk','difficulty':_0x32f13a(0xff),'attrs':[_0x32f13a(0x15a)]},{'name':'חימום\x20(קל\x20מאוד)','role':'field','difficulty':_0x32f13a(0xff),'attrs':[_0x32f13a(0x129),'fitness',_0x32f13a(0x102)]},{'name':_0x32f13a(0x17e),'role':'gk','difficulty':'veryEasy','attrs':[_0x32f13a(0x170)]},{'name':_0x32f13a(0x155),'role':_0x32f13a(0x186),'difficulty':'easy','attrs':[_0x32f13a(0x11a),_0x32f13a(0x10e),_0x32f13a(0x19c)]},{'name':_0x32f13a(0x155),'role':'gk','difficulty':_0x32f13a(0x100),'attrs':[_0x32f13a(0x154)]},{'name':'השתמש\x20בראש\x20שלך\x20(קל)','role':'field','difficulty':_0x32f13a(0x100),'attrs':['passing',_0x32f13a(0x129),_0x32f13a(0x197),'positioning']},{'name':_0x32f13a(0x193),'role':'field','difficulty':_0x32f13a(0x100),'attrs':[_0x32f13a(0x177),_0x32f13a(0x19c),_0x32f13a(0x16c)]},{'name':_0x32f13a(0x193),'role':'gk','difficulty':_0x32f13a(0x100),'attrs':[_0x32f13a(0xf1)]},{'name':'מתיחות\x20(קל)','role':'field','difficulty':_0x32f13a(0x100),'attrs':[_0x32f13a(0x11a),_0x32f13a(0x19b),_0x32f13a(0x16c)]},{'name':_0x32f13a(0x1a6),'role':'gk','difficulty':'easy','attrs':[_0x32f13a(0x13f)]},{'name':_0x32f13a(0x180),'role':_0x32f13a(0x186),'difficulty':'medium','attrs':[_0x32f13a(0x11a),_0x32f13a(0x16c),_0x32f13a(0xf7)]},{'name':_0x32f13a(0x180),'role':'gk','difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x142)]},{'name':_0x32f13a(0x10d),'role':_0x32f13a(0x186),'difficulty':'hard','attrs':[_0x32f13a(0x11a),_0x32f13a(0x177),_0x32f13a(0x19c),_0x32f13a(0x16c)]},{'name':'ריצה\x20הלוך\x20ושוב\x20(קשה)','role':_0x32f13a(0x186),'difficulty':_0x32f13a(0x18f),'attrs':[_0x32f13a(0x11a),_0x32f13a(0x19b),_0x32f13a(0x1a4)]},{'name':_0x32f13a(0x16d),'role':'gk','difficulty':_0x32f13a(0x18f),'attrs':[_0x32f13a(0x13f)]},{'name':_0x32f13a(0x165),'role':'field','difficulty':_0x32f13a(0x18f),'attrs':[_0x32f13a(0x11a),_0x32f13a(0x1a4),_0x32f13a(0x102)]},{'name':_0x32f13a(0x165),'role':'gk','difficulty':_0x32f13a(0x18f),'attrs':[_0x32f13a(0x148)]},{'name':_0x32f13a(0x12e),'role':'field','difficulty':'veryHard','attrs':[_0x32f13a(0x11a),_0x32f13a(0x177),_0x32f13a(0x16c)]},{'name':'ספרינט\x20(קשה\x20מאוד)','role':'gk','difficulty':_0x32f13a(0x184),'attrs':['rushingOut']},{'name':'סיומת\x201\x20על\x201\x20(קל)','role':_0x32f13a(0x186),'difficulty':_0x32f13a(0x100),'attrs':['finishing',_0x32f13a(0x17a),_0x32f13a(0x177)]},{'name':_0x32f13a(0x1a3),'role':'gk','difficulty':_0x32f13a(0x100),'attrs':['rushingOut',_0x32f13a(0x154)]},{'name':_0x32f13a(0xfa),'role':_0x32f13a(0x186),'difficulty':_0x32f13a(0x100),'attrs':['tackle',_0x32f13a(0x19c),_0x32f13a(0x16c),'positioning',_0x32f13a(0x102)]},{'name':_0x32f13a(0x12f),'role':_0x32f13a(0x186),'difficulty':'medium','attrs':[_0x32f13a(0x11f),_0x32f13a(0x10e),_0x32f13a(0x19b)]},{'name':'טכניקה\x20בעיטה\x20לשער\x20(בינוני)','role':'gk','difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x170),_0x32f13a(0x13f)]},{'name':_0x32f13a(0x161),'role':'field','difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x10e),_0x32f13a(0x129),_0x32f13a(0x15c),_0x32f13a(0x135)]},{'name':_0x32f13a(0x161),'role':'gk','difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x144)]},{'name':_0x32f13a(0x11e),'role':_0x32f13a(0x186),'difficulty':_0x32f13a(0xef),'attrs':['tackle',_0x32f13a(0x177),_0x32f13a(0x135),_0x32f13a(0x19b),_0x32f13a(0x1a4)]},{'name':_0x32f13a(0x16a),'role':_0x32f13a(0x186),'difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x129),_0x32f13a(0x15c),_0x32f13a(0x135),'bravery']},{'name':_0x32f13a(0x16a),'role':'gk','difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x142)]},{'name':_0x32f13a(0x162),'role':_0x32f13a(0x186),'difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x177),_0x32f13a(0x135),_0x32f13a(0x19b),_0x32f13a(0x1a4),'aggression']},{'name':_0x32f13a(0x105),'role':'gk','difficulty':_0x32f13a(0x18f),'attrs':['reflexes',_0x32f13a(0x13f),_0x32f13a(0x148),_0x32f13a(0xf1),_0x32f13a(0x142)]},{'name':_0x32f13a(0x13c),'role':_0x32f13a(0x186),'difficulty':_0x32f13a(0x18f),'attrs':[_0x32f13a(0x11f),_0x32f13a(0x10e),_0x32f13a(0x129),'crossing']},{'name':_0x32f13a(0x13c),'role':'gk','difficulty':_0x32f13a(0x18f),'attrs':[_0x32f13a(0x103)]},{'name':_0x32f13a(0x12c),'role':_0x32f13a(0x186),'difficulty':_0x32f13a(0x18f),'attrs':['tackle',_0x32f13a(0x135),'positioning','bravery',_0x32f13a(0x102)]},{'name':_0x32f13a(0x187),'role':_0x32f13a(0x186),'difficulty':'hard','attrs':[_0x32f13a(0x11f),_0x32f13a(0x19c),_0x32f13a(0x197),'positioning']},{'name':_0x32f13a(0x187),'role':'gk','difficulty':_0x32f13a(0x18f),'attrs':[_0x32f13a(0x154)]},{'name':_0x32f13a(0x188),'role':_0x32f13a(0x186),'difficulty':'veryHard','attrs':[_0x32f13a(0x11f),_0x32f13a(0x19c),_0x32f13a(0x15c),_0x32f13a(0x197)]},{'name':'התקפות\x20נגד\x20מהירות\x20(קשה\x20מאוד)','role':'gk','difficulty':'veryHard','attrs':[_0x32f13a(0x19e)]},{'name':'החלפת\x20צדדים\x20מהירה\x20(בינוני)','role':_0x32f13a(0x186),'difficulty':'medium','attrs':[_0x32f13a(0x11a),_0x32f13a(0x19c),_0x32f13a(0x15c),_0x32f13a(0x197),_0x32f13a(0xf7)]},{'name':_0x32f13a(0x16f),'role':'gk','difficulty':_0x32f13a(0xef),'attrs':[_0x32f13a(0x19e)]}],STORAGE_KEY=_0x32f13a(0x128);function loadPlayersFromStorage(){const _0x892edf=_0x32f13a;try{const _0x58cb06=localStorage[_0x892edf(0x19a)](STORAGE_KEY);if(!_0x58cb06)return[];return JSON['parse'](_0x58cb06);}catch(_0x19a980){return console[_0x892edf(0x18b)](_0x892edf(0x17c),_0x19a980),[];}}function savePlayersToStorage(_0x7dd88b){const _0x3cf277=_0x32f13a;localStorage[_0x3cf277(0x152)](STORAGE_KEY,JSON[_0x3cf277(0x13a)](_0x7dd88b));}function _0x4df9(){const _0x18648a=['התמקמות','השחקן\x20נשמר.','getElementById','creativity','אין\x20שחקן\x20נבחר.','קשה','getItem','strength','passing','35lOLcQO','communication','זריקה','attr-white','has','slice','סיומת\x201\x20על\x201\x20(קל)','bravery','push','מתיחות\x20(קל)','\x20•\x20עומס\x20תרגיל:\x20','medium','יכולת\x20אווירית','throwing','בינוני','שליטה\x20בכדור\x20(קל\x20מאוד)','עומס\x20אימון\x20משוער:\x20','span','חדר\x20כושר\x20(קשה\x20מאוד)','positioning','%\x20(לפי\x20קושי\x20×\x20מספר\x20חזרות).\x20ההמלצה\x20לא\x20משנה\x20את\x20המשחק,\x20רק\x20עוזרת\x20לתכנון.','764eZvmHj','אחד\x20באמצע\x20(קל)','%\x20•\x20מומלץ\x20×','createElement','קודם\x20תבחר\x20שחקן\x20מהרשימה.','370209XDgbNC','veryEasy','easy','badge\x20badge-diff','aggression','punching','attr-pill','אימון\x20שוערים\x20(קשה)','למחוק\x20את\x20השחקן\x20הזה?','autoSelectBtn','click','חבטה','badge\x20badge-role','תקשורת','כושר\x20גופני','דריבל\x20בסלאלום\x20(קשה)','shooting','textContent','flex','addEventListener','findIndex','מסירות','role','length','remove','כוח\x20פיזי','difficulty','name','speed','map','יציאה','קל\x20מאוד','עצור\x20את\x20שחקן\x20ההתקפה\x20(בינוני)','finishing','allDrillsContainer','input[name=\x22role\x22]','attrs','אומץ','key','ניתוח\x20סרטוני\x20וידאו\x20(קל\x20מאוד)','attributesContainer','label','top11_players_v1','heading','השחקן\x20נמחק.','225936FytBjc','דחוק\x20את\x20שחקני\x20ההגנה\x20(קשה)','option','ספרינט\x20(קשה\x20מאוד)','טכניקה\x20בעיטה\x20לשער\x20(בינוני)','זריזות','נגיחות','160740PRVVnP','לא\x20נמצאו\x20אימונים\x20מתאימים\x20לפי\x20ההגדרות\x20הנוכחיות.','338562VShAqi','marking','כדרור','appendChild','השחקן\x20עודכן.','ריכוז','stringify','בעיטות','משחק\x20אגפים\x20(קשה)','updatePlayerBtn','הרמות','agility','div','כולם','aerial','round','rushingOut','both','recommendedContainer','מהירות','gkKicking','find','toString','יצירתיות','dataset','בעיטה\x20(שוער)','keys','קשה\x20מאוד','—\x20אין\x20שחקנים\x20שמורים\x20—','roles','setItem','reduce','anticipation','מסור\x20התקדם\x20בעט\x20(קל)','שדה','שחקן\x20שדה','className','relevantAttrs','concentration','attr-gray','crossing','checked','drill-selected','לבן:\x20','classList','ביצוע\x20מצב\x20נייח\x20(בינוני)','משחק\x20מגע\x20(בינוני)','value','drill','קפיצת\x20מושכות\x20(קשה)','צפי','gray','marginTop','קו\x20הגנה\x20אחד\x20(בינוני)','הגבהה\x20להגנה\x20(בינוני)','deletePlayerBtn','fitness','ריצה\x20הלוך\x20ושוב\x20(קשה)','שוער','החלפת\x20צדדים\x20מהירה\x20(בינוני)','reflexes','DOMContentLoaded','now','forEach','max','filter','add','dribbling','תיקול','createTextNode','tackle','שם\x20לשחקן\x20החדש\x20(לדוגמה:\x20ST\x20צעיר\x20שמאלי):','שגיאה\x20בקריאת\x20שחקנים\x20מ-localStorage','543VOfHcD','חימום\x20(קל\x20מאוד)','querySelectorAll','שמירה\x20על\x20מסלול\x20(בינוני)','playerSelect','card','includes','veryHard','toFixed','field','מסירות\x20לפני\x20בעיטה\x20לשער\x20(קשה)','התקפות\x20נגד\x20מהירות\x20(קשה\x20מאוד)','indexOf','small','error','872949YbFlHN','white','innerHTML','hard','10890639jLXnXN','אגרסיביות','6px','משחק\x20בנגיעה\x20ראשונה\x20(קל)'];_0x4df9=function(){return _0x18648a;};return _0x4df9();}function refreshPlayerSelect(){const _0xdc9fe6=_0x32f13a,_0x16b52f=document['getElementById'](_0xdc9fe6(0x181));if(!_0x16b52f)return;const _0x25fd29=loadPlayersFromStorage();_0x16b52f[_0xdc9fe6(0x18e)]='';if(_0x25fd29[_0xdc9fe6(0x115)]===0x0){const _0x31f373=document['createElement'](_0xdc9fe6(0x12d));_0x31f373['value']='',_0x31f373[_0xdc9fe6(0x10f)]=_0xdc9fe6(0x150),_0x16b52f[_0xdc9fe6(0x137)](_0x31f373);return;}_0x25fd29[_0xdc9fe6(0x173)](_0x1900f6=>{const _0xa57308=_0xdc9fe6,_0x28017e=document[_0xa57308(0xfc)](_0xa57308(0x12d));_0x28017e['value']=_0x1900f6['id'],_0x28017e[_0xa57308(0x10f)]=_0x1900f6[_0xa57308(0x119)]+'\x20('+(_0x1900f6['role']==='gk'?'שוער':_0xa57308(0x156))+')',_0x16b52f['appendChild'](_0x28017e);});}function getSelectedRole(){const _0x20d32f=_0x32f13a,_0x26474b=document['querySelectorAll'](_0x20d32f(0x121));for(const _0x3b3127 of _0x26474b)if(_0x3b3127['checked'])return _0x3b3127[_0x20d32f(0x163)];return'field';}function setSelectedRole(_0x4bfeae){const _0x383640=_0x32f13a;document[_0x383640(0x17f)](_0x383640(0x121))[_0x383640(0x173)](_0x9b3b3f=>{const _0xba4d20=_0x383640;_0x9b3b3f[_0xba4d20(0x15d)]=_0x9b3b3f[_0xba4d20(0x163)]===_0x4bfeae;});}function attrAppliesToRole(_0xa57382,_0x2f6325){const _0x47c98a=_0x32f13a,_0x17c9bc=ATTRIBUTES[_0x47c98a(0x149)](_0x21a238=>_0x21a238[_0x47c98a(0x124)]===_0xa57382);if(!_0x17c9bc)return![];if(_0x17c9bc[_0x47c98a(0x151)]['includes'](_0x47c98a(0x145)))return!![];return _0x17c9bc[_0x47c98a(0x151)][_0x47c98a(0x183)](_0x2f6325);}function drillAppliesToRole(_0x4e2a9c,_0x222997){const _0xc9cb40=_0x32f13a;return _0x4e2a9c[_0xc9cb40(0x114)]===_0x222997||_0x4e2a9c[_0xc9cb40(0x114)]===_0xc9cb40(0x145);}function evaluateDrill(_0x574636,_0x43d526){const _0x52522f=_0x32f13a;let _0x83c2a2=0x0,_0x942cb8=0x0;const _0x264a76=[];for(const _0x129616 of _0x574636['attrs']){if(!attrAppliesToRole(_0x129616,_0x43d526))continue;_0x264a76[_0x52522f(0x1a5)](_0x129616);const _0x200e07=attributeStates[_0x129616]||'gray';if(_0x200e07===_0x52522f(0x18d))_0x83c2a2++;else _0x942cb8++;}return{'drill':_0x574636,'role':_0x43d526,'whiteCount':_0x83c2a2,'grayCount':_0x942cb8,'relevantAttrs':_0x264a76};}function computeRepetitions(_0x334832,_0x32e4e5=0x6){const _0x5b91ba=_0x32f13a;if(_0x334832[_0x5b91ba(0x115)]===0x0)return[];const _0x2d0f05=_0x334832[_0x5b91ba(0x11b)](_0x5f465a=>{const _0x41be13=_0x5b91ba,_0x195e94=DIFFICULTY_WEIGHT[_0x5f465a[_0x41be13(0x164)][_0x41be13(0x118)]]||1.5;return 0x1/_0x195e94;}),_0xd6d3f=_0x2d0f05[_0x5b91ba(0x153)]((_0x2b3814,_0xfb6287)=>_0x2b3814+_0xfb6287,0x0);let _0x2ab780=_0x2d0f05['map'](_0x36a646=>_0x36a646/_0xd6d3f*_0x32e4e5);_0x2ab780=_0x2ab780[_0x5b91ba(0x11b)](_0x5f0b95=>Math[_0x5b91ba(0x174)](0x1,Math[_0x5b91ba(0x143)](_0x5f0b95)));let _0x166eb9=_0x2ab780[_0x5b91ba(0x153)]((_0x4b119a,_0x2dd78d)=>_0x4b119a+_0x2dd78d,0x0);while(_0x166eb9>_0x32e4e5){let _0x4ffa77=_0x2ab780[_0x5b91ba(0x189)](Math[_0x5b91ba(0x174)](..._0x2ab780));if(_0x2ab780[_0x4ffa77]>0x1)_0x2ab780[_0x4ffa77]--,_0x166eb9--;else break;}while(_0x166eb9<_0x32e4e5){let _0x3e23f9=Infinity,_0x45ed5a=0x0;_0x334832[_0x5b91ba(0x173)]((_0x2edc60,_0x27819e)=>{const _0x16d0d8=DIFFICULTY_WEIGHT[_0x2edc60['drill']['difficulty']]||1.5;_0x16d0d8<_0x3e23f9&&(_0x3e23f9=_0x16d0d8,_0x45ed5a=_0x27819e);}),_0x2ab780[_0x45ed5a]++,_0x166eb9++;}return _0x2ab780;}function calcPlanLoadPercent(_0xab0614,_0x4e967f){let _0x3524c6=0x0;return _0xab0614['forEach']((_0x3e013a,_0x47e997)=>{const _0x4a83ee=DIFFICULTY_WEIGHT[_0x3e013a['drill']['difficulty']]||0x0;_0x3524c6+=_0x4a83ee*(_0x4e967f[_0x47e997]||0x0);}),_0x3524c6;}function applyAttrStateClass(_0x2def8b,_0x20f8cc){const _0x3b02dc=_0x32f13a;_0x2def8b[_0x3b02dc(0x160)][_0x3b02dc(0x116)](_0x3b02dc(0x1a0),_0x3b02dc(0x15b));if(_0x20f8cc===_0x3b02dc(0x18d))_0x2def8b[_0x3b02dc(0x160)][_0x3b02dc(0x176)](_0x3b02dc(0x1a0));else _0x2def8b['classList']['add'](_0x3b02dc(0x15b));}function renderAttributes(){const _0x4c0393=_0x32f13a,_0x31eb8f=document['getElementById'](_0x4c0393(0x126));if(!_0x31eb8f)return;_0x31eb8f[_0x4c0393(0x18e)]='';const _0x3660b3=getSelectedRole();ATTRIBUTES[_0x4c0393(0x173)](_0x502374=>{const _0x1eaccf=_0x4c0393;if(!(_0x502374[_0x1eaccf(0x151)][_0x1eaccf(0x183)](_0x1eaccf(0x145))||_0x502374[_0x1eaccf(0x151)][_0x1eaccf(0x183)](_0x3660b3)))return;!attributeStates[_0x502374[_0x1eaccf(0x124)]]&&(attributeStates[_0x502374['key']]='gray');const _0x24bede=document['createElement'](_0x1eaccf(0x140));_0x24bede['className']=_0x1eaccf(0x104),_0x24bede[_0x1eaccf(0x14c)][_0x1eaccf(0x124)]=_0x502374[_0x1eaccf(0x124)],_0x24bede[_0x1eaccf(0x10f)]=_0x502374[_0x1eaccf(0x127)],applyAttrStateClass(_0x24bede,attributeStates[_0x502374[_0x1eaccf(0x124)]]),_0x24bede[_0x1eaccf(0x111)](_0x1eaccf(0x108),()=>{const _0x22be5e=_0x1eaccf,_0x559586=attributeStates[_0x502374['key']],_0x5b90d3=_0x559586===_0x22be5e(0x167)?_0x22be5e(0x18d):_0x22be5e(0x167);attributeStates[_0x502374[_0x22be5e(0x124)]]=_0x5b90d3,applyAttrStateClass(_0x24bede,_0x5b90d3);}),_0x31eb8f['appendChild'](_0x24bede);});}function createDrillCard(_0x591b59,_0xdf1b56=![],_0x436c0c=null){const _0x3592de=_0x32f13a,{drill:_0x66928,whiteCount:_0x414967,grayCount:_0x35da43,relevantAttrs:_0x21e461}=_0x591b59,_0x49125c=document[_0x3592de(0xfc)](_0x3592de(0x140));_0x49125c[_0x3592de(0x158)]=_0x3592de(0x182);if(_0xdf1b56)_0x49125c[_0x3592de(0x160)][_0x3592de(0x176)](_0x3592de(0x15e));const _0x2fb367=document[_0x3592de(0xfc)]('h3');_0x2fb367[_0x3592de(0x10f)]=_0x66928[_0x3592de(0x119)]+'\x20';const _0x4a7e57=document[_0x3592de(0xfc)](_0x3592de(0xf5));_0x4a7e57[_0x3592de(0x158)]=_0x3592de(0x10a),_0x4a7e57[_0x3592de(0x10f)]=_0x66928[_0x3592de(0x114)]==='gk'?_0x3592de(0x16e):_0x66928['role']===_0x3592de(0x186)?_0x3592de(0x157):_0x3592de(0x141),_0x2fb367[_0x3592de(0x137)](_0x4a7e57);const _0x1e5803=document[_0x3592de(0xfc)]('span');_0x1e5803[_0x3592de(0x158)]=_0x3592de(0x101);const _0x5e7e84={'veryEasy':_0x3592de(0x11d),'easy':'קל','medium':_0x3592de(0xf2),'hard':_0x3592de(0x199),'veryHard':_0x3592de(0x14f)}[_0x66928[_0x3592de(0x118)]]||'';_0x1e5803[_0x3592de(0x10f)]=_0x5e7e84,_0x2fb367[_0x3592de(0x137)](document[_0x3592de(0x179)]('\x20')),_0x2fb367['appendChild'](_0x1e5803),_0x49125c['appendChild'](_0x2fb367);const _0x2268e2=document['createElement']('p');_0x2268e2[_0x3592de(0x158)]=_0x3592de(0x18a);let _0x2d8487=_0x3592de(0x15f)+_0x414967+',\x20אפור:\x20'+_0x35da43;if(_0x436c0c!=null){const _0x33146d=DIFFICULTY_WEIGHT[_0x66928['difficulty']]||0x0;_0x2d8487+=_0x3592de(0xee)+(_0x33146d*_0x436c0c)[_0x3592de(0x185)](0x2)+_0x3592de(0xfb)+_0x436c0c;}_0x2268e2[_0x3592de(0x10f)]=_0x2d8487,_0x49125c['appendChild'](_0x2268e2);const _0x22f511=document[_0x3592de(0xfc)](_0x3592de(0x140));return _0x22f511[_0x3592de(0x158)]=_0x3592de(0x110),_0x22f511['style'][_0x3592de(0x168)]=_0x3592de(0x192),_0x21e461[_0x3592de(0x173)](_0x15c0af=>{const _0xf98e27=_0x3592de,_0x330ab1=ATTRIBUTES[_0xf98e27(0x149)](_0x91fa51=>_0x91fa51[_0xf98e27(0x124)]===_0x15c0af);if(!_0x330ab1)return;const _0x28a42d=document[_0xf98e27(0xfc)](_0xf98e27(0x140));_0x28a42d[_0xf98e27(0x158)]=_0xf98e27(0x104);const _0x1b30c7=attributeStates[_0x15c0af]||'gray';if(_0x1b30c7===_0xf98e27(0x18d))_0x28a42d['classList'][_0xf98e27(0x176)](_0xf98e27(0x1a0));else _0x28a42d['classList']['add'](_0xf98e27(0x15b));_0x28a42d[_0xf98e27(0x10f)]=_0x330ab1[_0xf98e27(0x127)],_0x22f511[_0xf98e27(0x137)](_0x28a42d);}),_0x49125c[_0x3592de(0x137)](_0x22f511),_0x49125c;}function autoSelectDrills(){const _0xeced5d=_0x32f13a,_0x994f35=getSelectedRole(),_0x3c772c=DRILLS['filter'](_0x1c14c3=>drillAppliesToRole(_0x1c14c3,_0x994f35))[_0xeced5d(0x11b)](_0x457c97=>evaluateDrill(_0x457c97,_0x994f35)),_0x47f272=_0x3c772c[_0xeced5d(0x175)](_0x5cd05c=>_0x5cd05c[_0xeced5d(0x159)][_0xeced5d(0x115)]>0x0),_0xb8b26b=document[_0xeced5d(0x196)](_0xeced5d(0x146));if(!_0xb8b26b)return;_0xb8b26b[_0xeced5d(0x18e)]='';if(_0x47f272['length']===0x0){_0xb8b26b[_0xeced5d(0x10f)]=_0xeced5d(0x133);return;}const _0x2f608c=[],_0x5524c8=new Set();while(_0x2f608c[_0xeced5d(0x115)]<0x6){let _0x52ef4a=null,_0x59b097=-Infinity;for(const _0x25af91 of _0x47f272){if(_0x2f608c[_0xeced5d(0x183)](_0x25af91))continue;let _0x3b8dd6=0x0,_0x5efac0=0x0;_0x25af91[_0xeced5d(0x159)]['forEach'](_0x5b569c=>{const _0x459e73=_0xeced5d;if(_0x5524c8[_0x459e73(0x1a1)](_0x5b569c))return;const _0x38228c=attributeStates[_0x5b569c]||'gray';if(_0x38228c===_0x459e73(0x18d))_0x3b8dd6++;else _0x5efac0++;});if(_0x3b8dd6===0x0)continue;const _0x3445eb=_0x3b8dd6*0x3-_0x5efac0;_0x3445eb>_0x59b097&&(_0x59b097=_0x3445eb,_0x52ef4a=_0x25af91);}if(!_0x52ef4a)break;_0x2f608c['push'](_0x52ef4a),_0x52ef4a['relevantAttrs'][_0xeced5d(0x173)](_0x1f2034=>{const _0x26dc34=_0xeced5d,_0x5b4e79=attributeStates[_0x1f2034]||'gray';if(_0x5b4e79===_0x26dc34(0x18d))_0x5524c8[_0x26dc34(0x176)](_0x1f2034);});}if(_0x2f608c[_0xeced5d(0x115)]===0x0){_0xb8b26b[_0xeced5d(0x10f)]=_0xeced5d(0x133);return;}const _0x3b195b=_0x2f608c[_0xeced5d(0x1a2)](0x0,0x3),_0x117d11=computeRepetitions(_0x3b195b,0x6),_0x46f5d3=calcPlanLoadPercent(_0x3b195b,_0x117d11),_0x1e59f1=document[_0xeced5d(0xfc)]('p');_0x1e59f1[_0xeced5d(0x158)]=_0xeced5d(0x18a),_0x1e59f1[_0xeced5d(0x10f)]=_0xeced5d(0xf4)+_0x46f5d3[_0xeced5d(0x185)](0x2)+_0xeced5d(0xf8),_0xb8b26b[_0xeced5d(0x137)](_0x1e59f1),_0x3b195b[_0xeced5d(0x173)]((_0x2d6868,_0x3d053b)=>{const _0x1a6869=_0xeced5d,_0x21668b=createDrillCard(_0x2d6868,!![],_0x117d11[_0x3d053b]);_0xb8b26b[_0x1a6869(0x137)](_0x21668b);});}function renderAllDrills(){const _0xea0cc8=_0x32f13a,_0x33dd6b=document[_0xea0cc8(0x196)](_0xea0cc8(0x120));if(!_0x33dd6b)return;_0x33dd6b[_0xea0cc8(0x18e)]='';const _0x408c7a=getSelectedRole();DRILLS[_0xea0cc8(0x175)](_0x38cd77=>drillAppliesToRole(_0x38cd77,_0x408c7a))[_0xea0cc8(0x173)](_0x1f8bee=>{const _0x4d1138=evaluateDrill(_0x1f8bee,_0x408c7a),_0x4bdf06=createDrillCard(_0x4d1138,![]);_0x33dd6b['appendChild'](_0x4bdf06);});}function getCurrentPlayerSnapshot(){const _0x499778=_0x32f13a,_0x4e9e56=getSelectedRole(),_0x109e0d={'role':_0x4e9e56,'attrs':{}};return ATTRIBUTES[_0x499778(0x173)](_0x2d85c7=>{const _0x1c0c9f=_0x499778;attributeStates[_0x2d85c7[_0x1c0c9f(0x124)]]&&(_0x109e0d[_0x1c0c9f(0x122)][_0x2d85c7[_0x1c0c9f(0x124)]]=attributeStates[_0x2d85c7[_0x1c0c9f(0x124)]]);}),_0x109e0d;}function applyPlayerSnapshot(_0x40d34c){const _0x156170=_0x32f13a;if(!_0x40d34c)return;setSelectedRole(_0x40d34c[_0x156170(0x114)]||_0x156170(0x186)),Object['keys'](attributeStates)[_0x156170(0x173)](_0x58ab5e=>delete attributeStates[_0x58ab5e]),Object[_0x156170(0x14e)](_0x40d34c[_0x156170(0x122)]||{})['forEach'](_0xb362c1=>{const _0xadf5c3=_0x156170;attributeStates[_0xb362c1]=_0x40d34c[_0xadf5c3(0x122)][_0xb362c1];}),renderAttributes(),autoSelectDrills(),renderAllDrills();}function handleSaveNewPlayer(){const _0x2b86a1=_0x32f13a,_0x56c60c=prompt(_0x2b86a1(0x17b));if(!_0x56c60c)return;const _0x48f716=loadPlayersFromStorage(),_0x797c55=Date[_0x2b86a1(0x172)]()[_0x2b86a1(0x14a)](),_0x2d4888=getCurrentPlayerSnapshot();_0x48f716['push']({'id':_0x797c55,'name':_0x56c60c,'role':_0x2d4888[_0x2b86a1(0x114)],'attrs':_0x2d4888['attrs']}),savePlayersToStorage(_0x48f716),refreshPlayerSelect(),alert(_0x2b86a1(0x195));}function handleUpdatePlayer(){const _0x2017d1=_0x32f13a,_0x465201=document[_0x2017d1(0x196)]('playerSelect');if(!_0x465201)return;const _0x40d6bd=_0x465201[_0x2017d1(0x163)];if(!_0x40d6bd){alert(_0x2017d1(0xfd));return;}const _0x4fa968=loadPlayersFromStorage(),_0x36d9fc=_0x4fa968[_0x2017d1(0x112)](_0x42f232=>_0x42f232['id']===_0x40d6bd);if(_0x36d9fc===-0x1)return;const _0x4cbb6f=getCurrentPlayerSnapshot();_0x4fa968[_0x36d9fc][_0x2017d1(0x114)]=_0x4cbb6f[_0x2017d1(0x114)],_0x4fa968[_0x36d9fc][_0x2017d1(0x122)]=_0x4cbb6f[_0x2017d1(0x122)],savePlayersToStorage(_0x4fa968),refreshPlayerSelect(),alert(_0x2017d1(0x138));}function handleDeletePlayer(){const _0x1bb641=_0x32f13a,_0x2a7a35=document['getElementById']('playerSelect');if(!_0x2a7a35)return;const _0x2a6208=_0x2a7a35[_0x1bb641(0x163)];if(!_0x2a6208){alert('אין\x20שחקן\x20נבחר\x20למחיקה.');return;}if(!confirm(_0x1bb641(0x106)))return;let _0x37b4e7=loadPlayersFromStorage();_0x37b4e7=_0x37b4e7['filter'](_0x2a42c0=>_0x2a42c0['id']!==_0x2a6208),savePlayersToStorage(_0x37b4e7),refreshPlayerSelect(),alert(_0x1bb641(0x12a));}function handleLoadPlayer(){const _0x3b7bab=_0x32f13a,_0x292cca=document[_0x3b7bab(0x196)](_0x3b7bab(0x181));if(!_0x292cca)return;const _0x984331=_0x292cca[_0x3b7bab(0x163)];if(!_0x984331){alert(_0x3b7bab(0x198));return;}const _0x275477=loadPlayersFromStorage(),_0x16125f=_0x275477[_0x3b7bab(0x149)](_0x203ef5=>_0x203ef5['id']===_0x984331);if(!_0x16125f)return;applyPlayerSnapshot({'role':_0x16125f[_0x3b7bab(0x114)],'attrs':_0x16125f[_0x3b7bab(0x122)]});}function initApp(){const _0x187ec3=_0x32f13a,_0x41923a=document['getElementById'](_0x187ec3(0x107));_0x41923a&&_0x41923a['addEventListener'](_0x187ec3(0x108),()=>{autoSelectDrills(),renderAllDrills();});document[_0x187ec3(0x17f)]('input[name=\x22role\x22]')[_0x187ec3(0x173)](_0xe8c666=>{const _0x5f0b11=_0x187ec3;_0xe8c666[_0x5f0b11(0x111)]('change',()=>{renderAttributes(),autoSelectDrills(),renderAllDrills();});});const _0x5c0e05=document[_0x187ec3(0x196)]('savePlayerBtn'),_0xdcc2ab=document[_0x187ec3(0x196)](_0x187ec3(0x13d)),_0x56326b=document['getElementById'](_0x187ec3(0x16b)),_0xf5c827=document[_0x187ec3(0x196)]('loadPlayerBtn');if(_0x5c0e05)_0x5c0e05[_0x187ec3(0x111)](_0x187ec3(0x108),handleSaveNewPlayer);if(_0xdcc2ab)_0xdcc2ab[_0x187ec3(0x111)](_0x187ec3(0x108),handleUpdatePlayer);if(_0x56326b)_0x56326b[_0x187ec3(0x111)](_0x187ec3(0x108),handleDeletePlayer);if(_0xf5c827)_0xf5c827['addEventListener'](_0x187ec3(0x108),handleLoadPlayer);refreshPlayerSelect(),renderAttributes(),autoSelectDrills(),renderAllDrills();}document[_0x32f13a(0x111)](_0x32f13a(0x171),initApp);
  </script>
</body>
</html>
